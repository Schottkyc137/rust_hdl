# ยง3: Design entities and configuration

ArchitectureBody: !Sequence
  - keyword: Architecture
  - token: Identifier
    name: name
  - keyword: Of
  - node: Name
    name: entity_name
  - keyword: Is
  - node: DeclarativePart
  - keyword: Begin
  - node: StatementPart
  - keyword: End
  - keyword: Architecture
    trailing: true
  - token: Identifier
    name: name
    trailing: true
  - token: SemiColon

BlockConfiguration: !Sequence
  - keyword: For
  - node: BlockSpecification
  - node: UseClause
    repeated: true
  - node: ConfigurationItem
    repeated: true
  - keyword: End
  - keyword: For
    trailing: true
  - token: SemiColon

BlockSpecification: !Sequence
  - node: Name
  - node: GenerateSpecification
    parenthesized: true

GenerateSpecification: !Choice
  - node: DiscreteRange
  - node: Expression
  - node: Identifier

ComponentConfiguration: !Sequence
  - keyword: For
  - node: ComponentSpecification
  - node: BindingIndication
    terminated: SemiColon
  - node: VUnitBindingIndication
    terminated: SemiColon
    repeated: true
  - node: BlockConfiguration
  - keyword: End
  - keyword: For
    trailing: true
  - token: SemiColon

ConfigurationDeclaration: !Sequence
  - keyword: Configuration
  - token: Identifier
    name: name
  - keyword: Of
  - node: Name
    name: entity_name
  - keyword: Is
  - node: DeclarativePart
  - node: VUnitBindingIndication
    terminated: SemiColon
    repeated: true
  - node: BlockConfiguration
  - keyword: End
  - keyword: Configuration
    trailing: true
  - token: Identifier
    name: name
    trailing: true
  - token: SemiColon

ConfigurationItem: !Choice
  - node: BlockConfiguration
  - node: ComponentConfiguration

EntityDeclaration: !Sequence
  - keyword: Entity
  - token: Identifier
    name: name
  - keyword: Is
  - node: EntityHeader
  - node: DeclarativePart
  - keyword: Begin
  - node: StatementPart
  - keyword: End
  - keyword: Entity
    trailing: true
  - token: Identifier
    name: name
    trailing: true
  - token: SemiColon

EntityHeader: !Sequence
  - node: GenericClause
  - node: PortClause
