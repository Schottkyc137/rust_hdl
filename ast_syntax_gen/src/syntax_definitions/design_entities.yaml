# ยง3: Design entities and configuration

ArchitectureBody: !Sequence
  - keyword: Architecture
  - token: Identifier
    name: name
  - keyword: Of
  - node: Name
    name: entity_name
  - keyword: Is
  - node: Declaration
    repeated: true
  - keyword: Begin
  - node: ConcurrentStatement
    repeated: true
  - keyword: End
  - keyword: Architecture
    name: trailing_architecture
  - token: Identifier
    name: trailing_name
  - token: SemiColon

BlockConfiguration: !Sequence
  - keyword: For
  - node: BlockSpecification
  - node: UseClause
    repeated: true
  - node: ConfigurationItem
    repeated: true
  - keyword: End
  - keyword: For
    name: trailing_for
  - token: SemiColon

BlockSpecification: !Sequence
  - node: Name
  - node: GenerateSpecification
    parenthesized: true

GenerateSpecification: !Choice
  - node: DiscreteRange
  - node: Expression

ComponentConfiguration: !Sequence
  - keyword: For
  - node: ComponentSpecification
  - node: BindingIndication
    terminated: SemiColon
  - node: VerificationUnitBindingIndication
    terminated: SemiColon
    repeated: true
  - node: BlockConfiguration
  - keyword: End
  - keyword: For
    name: trailing_for
  - token: SemiColon

ConfigurationDeclaration: !Sequence
  - keyword: Configuration
  - token: Identifier
    name: name
  - keyword: Of
  - node: Name
    name: entity_name
  - keyword: Is
  - node: Declaration
    repeated: true
  - node: VerificationUnitBindingIndication
    terminated: SemiColon
    repeated: true
  - node: BlockConfiguration
  - keyword: End
  - keyword: Configuration
    name: trailing_configuration
  - token: Identifier
    name: trailing_name
  - token: SemiColon

ConfigurationItem: !Choice
  - node: BlockConfiguration
  - node: ComponentConfiguration

EntityDeclaration: !Sequence
  - keyword: Entity
  - token: Identifier
    name: name
  - keyword: Is
  - node: EntityHeader
  - node: Declaration
    repeated: true
  - keyword: Begin
  - node: ConcurrentStatement
    repeated: true
  - keyword: End
  - keyword: Entity
    name: trailing_entity
  - token: Identifier
    name: trailing_name
  - token: SemiColon

EntityHeader: !Sequence
  - node: GenericClause
  - node: PortClause
